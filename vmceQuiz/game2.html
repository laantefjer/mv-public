<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VeeamQuest: Path of the Data Defender</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #1e1e2f;
      color: #f5f5f5;
      padding: 20px;
      max-width: 700px;
      margin: auto;
    }
    h1, h2 {
      color: #00e676;
    }
    .question {
      background: #2c2c3e;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
    }
    .options button {
      background: #444;
      color: white;
      padding: 10px 15px;
      margin: 5px 0;
      border: none;
      border-radius: 5px;
      width: 100%;
      text-align: left;
      cursor: pointer;
    }
    .options button:hover {
      background: #00e676;
      color: black;
    }
    .feedback {
      margin-top: 10px;
    }
    .next {
      margin-top: 20px;
      display: none;
      background: #00e676;
      color: black;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>üõ°Ô∏è VeeamQuest: by M üõ°Ô∏è</h1>
  <h2 id="stage"></h2>
  <div class="question">
    <p id="question-text"></p>
    <div class="options"></div>
    <div class="feedback" id="feedback"></div>
    <button class="next" id="nextBtn" onclick="nextQuestion()">Next ‚û°Ô∏è</button>
  </div>
  <script>
    const questions = [
      {
        "stage": "Question 1",
        "question": "Which API is available to automate Veeam Backup and Replication operations?",
        "options": [
          "A. ",
          "B. ",
          "C. ",
          "D. "
        ],
        "correct": [
          "A"
        ],
        "explanation": "The REST API through Veeam Backup and Replication Server is the available API for automating Veeam Backup and Replication operations. This API enables programmatic control over Veeam Backup & Replication and allows for integration with external systems and custom automation scripts. Reference: Veeam Backup & Replication RESTful API Reference, Veeam Automation and Scripting Guide"
      },
      {
        "stage": "Question 2",
        "question": "An administrator needs to create a strategy in advance of a disaster to ensure that applications can be started in a specific order. How can this be accomplished?",
        "options": [
          "A. ",
          "B. ",
          "C. ",
          "D. "
        ],
        "correct": [
          "A"
        ],
        "explanation": "To ensure that applications can be started in a specific order in advance of a disaster, an administrator should use a Failover Plan in Veeam Backup and Replication. This feature allows for the creation of a predefined sequence for starting up VMs, ensuring that applications are brought online in the correct order during a disaster recovery scenario. Reference: Veeam Backup & Replication User Guide, Veeam Failover Plan Configuration Guide"
      },
      // ... (all other questions from vmce_questions.json) ...
    ];

    let currentQuestionIndex = null;
    let usedIndexes = [];

    function getRandomQuestionIndex() {
      if (usedIndexes.length === questions.length) {
        usedIndexes = [];
      }
      let idx;
      do {
        idx = Math.floor(Math.random() * questions.length);
      } while (usedIndexes.includes(idx) && usedIndexes.length < questions.length);
      usedIndexes.push(idx);
      return idx;
    }

    function showQuestion(index) {
      const q = questions[index];
      document.getElementById('stage').textContent = q.stage;
      document.getElementById('question-text').textContent = q.question;
      const optionsDiv = document.querySelector('.options');
      optionsDiv.innerHTML = '';
      q.options.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.textContent = opt;
        btn.onclick = () => checkAnswer(i);
        optionsDiv.appendChild(btn);
      });
      document.getElementById('feedback').textContent = '';
      document.getElementById('nextBtn').style.display = 'none';
    }

    function checkAnswer(selectedIndex) {
      const q = questions[currentQuestionIndex];
      const correctIndexes = q.correct.map(letter =>
        letter.charCodeAt(0) - 'A'.charCodeAt(0)
      );
      if (correctIndexes.includes(selectedIndex)) {
        document.getElementById('feedback').textContent = '‚úÖ Correct! ' + q.explanation;
        document.getElementById('nextBtn').style.display = 'inline-block';
      } else {
        document.getElementById('feedback').textContent = '‚ùå Incorrect. Try again!';
        document.getElementById('nextBtn').style.display = 'none';
      }
    }

    function nextQuestion() {
      currentQuestionIndex = getRandomQuestionIndex();
      showQuestion(currentQuestionIndex);
    }

    // Start game with a random question
    nextQuestion();
  </script>
</body>
</html>
